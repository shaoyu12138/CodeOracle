# CodeOracle — 让《周易》六爻占卜落地到一条命令

> **快速开始**：执行 `python CodeOracle.py`，立刻生成一份适配 LLM 的完整卦象解读；如需手动查卦，用 `python GuaLookup.py`。

---

## 1. 快速上手（操作与亮点在前）

| 目的 | 命令 | 结果 |
|------|------|------|
| **随机摇卦 + 全套解读** | `python CodeOracle.py` | 生成 `question_YYYY_MM_DD_HH_MM_SS.txt`，直接贴给 ChatGPT / Claude 等即可 |
| **手动查卦 /《焦氏易林》** | `python GuaLookup.py` | 交互式选择：① 本卦查询 ② 本卦 + 动爻 + 变卦 + 易林 |

**项目亮点**
1. **零依赖**：纯 Python 标准库，无需联网、无需 API Key。
2. **一次性输出**：本卦、变卦、互卦、错卦、综卦及 4096 条《焦氏易林》断辞，信息量足够做深度推理。
3. **LLM 友好**：输出已排版为 prompt，复制即可问 AI，不再东拼西凑。
4. **可验证**：核心算法（铜钱法、主爻/世爻、位运算）都写在代码里，随时断点调试。

---

## 2. 功能概览

| 脚本 | 用途 | 典型场景 |
|------|------|----------|
| `CodeOracle.py` | 一键随机摇卦，占卜整流程 | 想快速得到一份“问题 → 卦象 → AI 解读”材料 |
| `GuaLookup.py`  | 卦库查询 + 焦氏易林匹配 | 已知卦名或想指定动爻，验证古籍说法 |
| `test.ipynb`    | Jupyter 演示 | 想在 Notebook 里逐行观察结果 |

---

## 3. 环境与安装

- **Python ≥ 3.9**（含）；其余全部用标准库。
- 任意操作系统：Windows / macOS / Linux 均实测通过。

```bash
git clone https://github.com/yourname/CodeOracle.git
cd CodeOracle
python CodeOracle.py  # 或 GuaLookup.py
```

---

## 4. 目录结构

```text
CodeOracle/
├─ assets/
│  ├─ 64_Gua_Data.json               # 六十四卦校对版
│  ├─ 64_Gua_Data_4096.json          # 焦氏易林 4096 断辞
│  └─ prompt.txt                     # LLM 提示模板
├─ CodeOracle.py                     # 随机摇卦脚本
├─ GuaLookup.py                      # 卦名 / 动爻 / 易林 查询脚本
├─ test.ipynb                        # Notebook 演示
└─ README.md
```

> **数据声明**：两份 JSON 由作者人工校对，可自由使用，但请保留引用。

---

## 5. 输出示例（节选）

```
===== 本卦（当前状态） =====
卦名：坤为地（地）
上卦：坤    下卦：坤
世爻：第 6 爻
...
===== 主动爻 =====
...
===== 焦氏易林解 =====
...
```

---

## 6. 核心算法掠影

1. **铜钱法**：3 × 抛硬币，6/7/8/9 判阴阳与动爻。
2. **卦编码**：六爻自下而上 → 6 位二进制；0 = 阳，1 = 阴。
3. **主动爻计算**：依据动爻数量与阴阳变化，返回唯一编号 0‑7。
4. **世爻计算**：七步取反直到纯卦，确保 1‑6 唯一。
5. **互 / 错 / 综卦**：位运算一行搞定。

代码全部公开，可自行 Review 或改写。

---

## 7. 常见疑问

- **占卜准吗？** 玄学工具，本质仍是概率和象征意义；信则有，不信也能当数据集玩。
- **可以换别的模板吗？** 修改 `assets/prompt.txt` 即可。
- **要联网吗？** 摇卦和查卦都离线；若要问 LLM，则按各自平台要求联网。

---

## 8. 免责声明与协议

- 所有结果 **仅供体验与研究**，请勿单独据此决策。
- 本项目采用 **MIT License**，可商用，但需注明来源。

---

> 📜 *天行健，君子以自强不息；地势坤，君子以厚德载物。*

CodeOracle 用代码复现经典，让占卜更可测试、更可复盘。祝你玩得开心，也记得质疑结果。

